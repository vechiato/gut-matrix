name = "gut-matrix"
compatibility_date = "2025-10-22"
pages_build_output_dir = "public"

[vars]
MAX_ITEMS = "500"
MIN_SCALE = "1"
MAX_SCALE = "5"

# Rate Limiting (to protect free tier)
ENABLE_RATE_LIMITING = "true"
MAX_SAVES_PER_USER_PER_MINUTE = "2"
MAX_SAVES_PER_USER_PER_HOUR = "30"
MAX_LISTS_PER_USER_PER_DAY = "10"
MAX_USERS_PER_LIST = "10"
MAX_SAVES_PER_LIST_PER_MINUTE = "10"

# Resource Limits
LIST_MAX_SIZE_KB = "100"
LIST_TTL_DAYS = "30"

# Frontend Behavior (informational - used in docs)
AUTO_SAVE_DEBOUNCE_MS = "3000"
AUTO_SYNC_INTERVAL_MS = "10000"

# KV namespace for storing matrix data
# IMPORTANT: Do NOT commit your actual namespace ID to git!
# Copy this file to wrangler.toml and add your KV namespace ID there.
# For local development: npx wrangler kv:namespace create "MATRIX_STORE"
# For production: Configure in Cloudflare Dashboard → Workers & Pages → gut-matrix → Settings → Functions → KV namespace bindings

# [[kv_namespaces]]
# binding = "MATRIX_STORE"
# id = "your-kv-namespace-id-here"  # Replace with your actual KV namespace ID
